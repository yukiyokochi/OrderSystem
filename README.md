## 概要
都内飲食店様より受注したオンライン料理注文システム開発案件の納品物を、ポートフォリオ用Webアプリケーションとしてリメイクしました。
## 機能一覧
- 料理メニューの表示・詳細表示・追加・削除・編集
- 料理メニューの売り切れ情報の反映
- 料理メニューのカテゴリー機能
- 登録住所別の配達価格・必要最低注文金額・配達時間の反映
- カート機能
- フォーム機能
- クレジットカード決済機能
- 従業員用顧客情報表示機能
## 使用技術一覧
- 言語,フレームワーク: Python3, Django2.2, HTML5, Sass, JavaScript
- インフラ: AWS EC2
- データベース: PostgreSQL
- APサーバ: Gunicorn
- Webサーバ: Nginx
## 追加情報
- 元案件の工期: 2020年6月下旬~8月上旬
- ポートフォリオの工期: 2021年2月
- 開発者: 横地 悠紀(全工程を担当)
- URL:
- ポートフォリオとしての掲載の許可: 取得済み(店舗情報を公開しない場合に限る)
## アプリ仕様詳細
### Admin  
URL: /admin  
アプリケーションの管理画面です。ログインには以下のテストユーザーを用いてください。  
```
ユーザー名： test
パスワード: test
```

##### 各モデルについて
Payments:顧客が選択する支払い方法(現金orクレジットカードのみ)  
Categorys:店舗が登録する料理メニューのカテゴリー  
Locations:顧客が選択する配達エリア    
Menus:店舗が登録する料理メニュー 

##### 従業員用顧客情報  
「Payments」の「注文・顧客情報一覧」(URL:/admin/cart/payment/client_info/)に、顧客がフォームに入力した情報や注文内容・金額などが新着順に表示されます。  

![Web 1280 – 10](https://user-images.githubusercontent.com/66051073/109168538-4599cc00-77c2-11eb-8c82-74cdf8a8e044.png)  

### 各料理メニュー
##### 持っている値
- 料理名  
- 料理カテゴリ(登録されたカテゴリ名から選択)
- 価格
- 特記事項やアレルギー等(メニュー詳細頁に表示されます)
- 画像
- 販売状況(通常販売or売り切れ中)  

##### ページ上の振る舞い  

![Web 1280 – 12](https://user-images.githubusercontent.com/66051073/109168522-416dae80-77c2-11eb-8ff4-611b80707d66.png)  
![Web 1280 – 11](https://user-images.githubusercontent.com/66051073/109168541-46326280-77c2-11eb-9b2e-a8161a773cb8.png)  

### 配達住所
##### 持っている値  
- 住所(店舗が登録し、顧客が選択)
- 送料
- 配達所要時間(分)
- 必要注文最低額(カート内の料理の合計金額がこれ以下では決済に進めない)  

##### 顧客が登録するページ  
URL:/ec/location-register/  

![Web 1280 – 13](https://user-images.githubusercontent.com/66051073/109168527-43377200-77c2-11eb-9a56-bb370718f2dd.png)  

### カート
##### 金額について  
注文金額:カート内の料理の合計金額(変数名:total)  
送料:顧客が選択したエリアに配達するためにかかる送料(変数名:shippingtax)  
合計金額:注文金額と送料の和(変数名:totalandship)  

##### 注文フォームに進める条件
カート内の料理の合計金額が、顧客が選択したエリアの必要注文最低額以上となった場合。  

![Web 1280 – 14](https://user-images.githubusercontent.com/66051073/109168529-43d00880-77c2-11eb-9e3c-92e23e715797.png)  

### 注文フォーム
##### フォームの内容
- 名前
- 住所(顧客が選択した住所の続きから入力)
- 電話番号
- メールアドレス
- 支払い方法(Paymentsから選択)
- 自由記入欄(辛さのしていやアレルギーなど)  

##### 支払い方法による画面遷移

・支払い方法が「現金」だった場合、以下の画面へ遷移  

![Web 1280 – 18](https://user-images.githubusercontent.com/66051073/109168533-44689f00-77c2-11eb-8ce5-facbea0e8486.png)

・支払い方法が「クレジットカード」だった場合、以下の画面へ遷移  

![Web 1280 – 15](https://user-images.githubusercontent.com/66051073/109168532-44689f00-77c2-11eb-8001-aec6ea0bde42.png)

### クレジットカード決済
##### PayJP  
https://pay.jp/  
##### テストカード  
テストカードを使用するには以下を支払い情報に入力してください。  
カード:4242 4242 4242 4242  
有効期限:未来の「月/年」を入力  
CVC番号:３桁の数字を入力
名前:間にスペースを持つ2つの英字列を入力  

<img width="443" alt="スクリーンショット 2021-02-25 23 03 24" src="https://user-images.githubusercontent.com/66051073/109168537-45013580-77c2-11eb-8ac8-baa4d6087415.png">
